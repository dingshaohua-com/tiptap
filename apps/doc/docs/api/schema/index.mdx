---
id: schema
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import CollapseCodeblock from "/src/components/CollapseCodeblock";
import Fieldset from "/src/components/Fieldset";
import AtomDemoDemo from "/src/components/AtomDemo";
import AtomDemoDemoJs from "!!raw-loader!/src/components/AtomDemo/index.js";
import DraggableDemo from "/src/components/DraggableDemo";
import DraggableDemoJs from "!!raw-loader!/src/components/DraggableDemo/index.js";
import CodeTrueDemo from "/src/components/CodeDemo/CodeTrue.js";
import CodeTrueDemoJs from "!!raw-loader!/src/components/CodeDemo/CodeTrue.js";
import CodeFalseDemo from "/src/components/CodeDemo/CodeFalse.js";
import CodeFalseDemoJs from "!!raw-loader!/src/components/CodeDemo/CodeFalse.js";
import DefiningTrueDemo from "/src/components/DefiningDemo/DefiningFalse.js";
import DefiningTrueDemoJs from "!!raw-loader!/src/components/DefiningDemo/DefiningFalse.js";
import DefiningFalseDemo from "/src/components/DefiningDemo/DefiningTrue.js";
import DefiningFalseDemoJs from "!!raw-loader!/src/components/DefiningDemo/DefiningTrue.js";

import CustomMarkDemo from "/src/components/CustomMarkDemo";
import CustomMarkDemoJs from "!!raw-loader!/src/components/CustomMarkDemo/index.js";
import CustomMarkDotDemoJs from "!!raw-loader!/src/components/CustomMarkDemo/mark-dot.js";

import InclusiveTrueDemo from "/src/components/InclusiveDemo/InclusiveTrue.js";
import InclusiveFalseDemo from "/src/components/InclusiveDemo/InclusiveFalse.js";
import InclusiveTrueDemoJs from "!!raw-loader!/src/components/InclusiveDemo/InclusiveTrue.js";
import InclusiveFalseDemoJs from "!!raw-loader!/src/components/InclusiveDemo/InclusiveFalse.js";
import InclusiveMarkDotDemoJs from "!!raw-loader!/src/components/InclusiveDemo/mark-dot.js";

import ExcludesDemo from "/src/components/ExcludesDemo";
import ExcludesDemoJs from "!!raw-loader!/src/components/ExcludesDemo/index.js";

import ExitableTrueDemo from "/src/components/ExitableDemo/ExitableTrue.js";
import ExitableFalseDemo from "/src/components/ExitableDemo/ExitableFalse.js";
import ExitableTrueDemoJs from "!!raw-loader!/src/components/ExitableDemo/ExitableTrue.js";
import ExitableFalseDemoJs from "!!raw-loader!/src/components/ExitableDemo/ExitableFalse.js";
import ExitableMarkDotDemoJs from "!!raw-loader!/src/components/ExitableDemo/mark-dot.js";



[schema](https://tiptap.dev/api/schema)ï¼ˆ[è¿™ä¸ªå•è¯å®åœ¨éš¾æ˜“ä¸­æ–‡ç¿»è¯‘](https://zhuanlan.zhihu.com/p/340830528) ï¼‰

## åˆè¯† schema

schema å…¶å®å°±æ˜¯æˆ‘ä»¬å®šä¹‰æ‰©å±•(extension)ã€èŠ‚ç‚¹(node)å’Œæ ‡è®°(mark)ç”¨çš„è¯­æ³•è§„èŒƒï¼

å½“æ‚¨åªä½¿ç”¨æˆ‘ä»¬ç»™æ‚¨æä¾›çš„æ—¶è¿™äº›ä¸œè¥¿æ—¶ï¼Œæ‚¨ä¸å¿…å¤ªåœ¨æ„ schemaï¼Œä½†æ‚¨è¦è‡ªå®šä¹‰çš„æ—¶å€™ï¼Œäº†è§£å…¶çš„å·¥ä½œåŸç†å¯èƒ½ä¼šæœ‰æ‰€å¸®åŠ©ã€‚

è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹å…¸å‹ ProseMirror ç¼–è¾‘å™¨çš„æœ€ç®€å• schema é•¿ä»€ä¹ˆæ ·ï¼š

```js
// ProseMirroré‡Œçš„ schema
{
  nodes: {
    // å®šä¹‰äº†ä¸€ä¸ªdocçš„èŠ‚ç‚¹ç±»å‹
    // æ¯ä¸ªschema ï¼ˆåœ¨tiptapä¸­ ä¸º æ¯ä¸ªeditorå®ä¾‹ï¼‰å¿…é¡»è‡³å°‘å®šä¹‰ä¸€ä¸ªé¡¶çº§èŠ‚ç‚¹ç±»å‹ï¼ˆé»˜è®¤ä¸º"doc"ï¼‰å’Œ"text"æ–‡æœ¬å†…å®¹çš„ç±»å‹ã€‚
    doc: {
      content: 'block+',
    },
    paragraph: {
      content: 'inline*',
      group: 'block',
      parseDOM: [{ tag: 'p' }],
      toDOM: () => ['p', 0],
    },
    text: {
      group: 'inline',
    },
  },
}
```

æˆ‘ä»¬åœ¨è¿™é‡Œæ³¨å†Œäº†ä¸‰ä¸ªèŠ‚ç‚¹ doc,paragraph å’Œ textã€‚

- doc æ˜¯æ–‡æ¡£èŠ‚ç‚¹ï¼Œäº¦æ˜¯æ ¹èŠ‚ç‚¹ï¼Œå®ƒå…è®¸ä¸€ä¸ªæˆ–å¤šä¸ªå—èŠ‚ç‚¹ä½œä¸ºå­èŠ‚ç‚¹ `content: 'block+'`ã€‚
- paragraph æ˜¯æ®µè½èŠ‚ç‚¹ï¼Œå®ƒéš¶å±äºå—èŠ‚ç‚¹ç»„`group: 'block'`ï¼Œå®ƒå…è®¸é›¶ä¸ªæˆ–å¤šä¸ªå†…è”èŠ‚ç‚¹ä½œä¸ºå­èŠ‚ç‚¹ `content: 'inline*'`,å› æ­¤åªèƒ½ text èŠ‚ç‚¹åœ¨å…¶ä¸­ã€‚
- text æ˜¯æ–‡æœ¬èŠ‚ç‚¹ï¼Œå®ƒéš¶å±äºè¡ŒèŠ‚ç‚¹ç»„`group: 'inline'`ã€‚

å†æ¥çœ‹ Tiptap çš„çº¦æŸé•¿ä»€ä¹ˆæ ·ã€‚  
åœ¨ Tiptap ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹ã€æ ‡è®°å’Œæ‰©å±•åéƒ½å­˜åœ¨äºè‡ªå·±çš„æ–‡ä»¶ä¸­ã€‚è¿™å…è®¸æˆ‘ä»¬æ‹†åˆ†é€»è¾‘ï¼Œæœ€åæ•´ä¸ªæ¨¡å¼å°†åˆå¹¶åœ¨ä¸€èµ·

```js
// Tiptapé‡Œçš„ schema
import { Node } from "@tiptap/core";

const Document = Node.create({
  name: "doc",
  topNode: true,
  content: "block+",
});

const Paragraph = Node.create({
  name: "paragraph",
  group: "block",
  content: "inline*",
  parseHTML() {
    return [{ tag: "p" }];
  },
  renderHTML({ HTMLAttributes }) {
    return ["p", HTMLAttributes, 0];
  },
});

const Text = Node.create({
  name: "text",
  group: "inline",
});
```

## èŠ‚ç‚¹ schema

èŠ‚ç‚¹å°±åƒå†…å®¹å—ï¼Œä¾‹å¦‚æ®µè½ã€æ ‡é¢˜ã€ä»£ç å—ã€å¼•ç”¨ç­‰ç­‰ã€‚  
ä¸è®¸å¤šå…¶ä»–ç¼–è¾‘å™¨ä¸åŒï¼ŒTiptap åŸºäºå®šä¹‰å†…å®¹ç»“æ„ã€‚è¿™ä½¿æ‚¨èƒ½å¤Ÿå®šä¹‰æ–‡æ¡£ä¸­å¯èƒ½å‡ºç°çš„èŠ‚ç‚¹ç±»å‹ã€å…¶å±æ€§ä»¥åŠå®ƒä»¬çš„åµŒå¥—æ–¹å¼ã€‚è¿™ä¸ªæ¨¡å¼éå¸¸ä¸¥æ ¼ã€‚æ‚¨ä¸èƒ½ä½¿ç”¨ä»»ä½•æœªåœ¨æ‚¨çš„æ¶æ„ä¸­å®šä¹‰çš„ HTML å…ƒç´ æˆ–å±æ€§ã€‚ è¿™å°±è¦æ±‚æˆ‘ä»¬å¿…é¡»ç†Ÿç»ƒ èŠ‚ç‚¹ schemaã€‚

æ¯”å¦‚ï¼š`è¿™æ˜¯ <strong>éå¸¸é‡è¦çš„</strong>`æ”¾åˆ° Tiptap ä¸­ï¼Œä½†æ²¡æœ‰ä»»ä½•å¤„ç† strong æ ‡ç­¾çš„æ‰©å±•ï¼Œä½ åªä¼šçœ‹åˆ°`è¿™æ˜¯éå¸¸é‡è¦çš„`æ¸²æŸ“æˆåŠŸï¼Œå´æ²¡æœ‰è¢« strongã€‚

ä¸€ä¸ªç®€å•çš„æ–‡æ¡£å¯èƒ½æ˜¯ä¸€ä¸ª"doc"åŒ…å«ä¸¤ä¸ª"paragraph" çš„èŠ‚ç‚¹ï¼Œæ¯ä¸ª paragraph èŠ‚ç‚¹åŒ…å«ä¸€ä¸ª"text"èŠ‚ç‚¹ã€‚

### content

content å±æ€§å‡†ç¡®å®šä¹‰äº†èŠ‚ç‚¹å¯ä»¥æ‹¥æœ‰çš„å†…å®¹ç±»å‹ã€‚ProseMirror å¯¹æ­¤éå¸¸ä¸¥æ ¼ã€‚è¿™æ„å‘³ç€ï¼Œä¸ç¬¦åˆæ¨¡å¼çš„å†…å®¹å°†è¢«ä¸¢å¼ƒã€‚ å¦‚æœä¸æŒ‡å®š content åˆ™ä»»ä½•å†…å®¹éƒ½ä¼šè¢«ä¸¢å¼ƒï¼

content çš„å€¼æ¥æºäºæŸä¸€ä¸ªèŠ‚ç‚¹ç±»å‹çš„ groupã€ç›®å‰[tiptap å†…ç½®ä¸€äº›å¸¸ç”¨çš„èŠ‚ç‚¹](/api/nodes)å¦‚ï¼šblockã€inline ç­‰ã€‚

```js
Node.create({
  // å†…å®¹åªå…è®¸æœ‰ä¸€ä¸ªblock
  content: 'block',

  // å†…å®¹è‡³å°‘æœ‰1ä¸ª blockç±»å‹
  content: 'block+',

  //å†…å®¹ä¸º0æˆ–å¤šä¸ª blockç±»å‹
  content: 'block*',

  // æ‰€æœ‰çš„å†…å®¹å¿…é¡»æ˜¯ 'inline'ç±»å‹  (text æˆ– hard break)
  content: 'inline*',

  // å†…å®¹åªå…è®¸ 'text'ç±»å‹
  content: 'text*',

  // å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ª ã€paragraph æˆ– listsã€‘ (å¦‚æœå­˜åœ¨list)
  content: '(paragraph|list?)+',

  // å¿…é¡»é¡¶éƒ¨æœ‰ä¸€ä¸ªæ ‡é¢˜ åœ¨ä¸‹è¾¹æœ‰æ›´å¤šçš„block
  content: 'heading block+'

  // å½“ç„¶ ä¹Ÿå¯ä»¥æ˜¯è‡ªå®šä¹‰çš„èŠ‚ç‚¹ç±»å‹(å‰ææ‚¨å¾—å®šä¹‰å¥½groupä¸ºcustomçš„èŠ‚ç‚¹)
  content: 'custom'
})
```

### group

å°†æ­¤èŠ‚ç‚¹æ·»åŠ åˆ°æŸä¸€åˆ†ç»„ä¸­ã€‚ç„¶ååœ¨åˆ«çš„èŠ‚ç‚¹çš„[content](#content)ä¼šä½¿ç”¨ã€‚

```js
Node.create({
  // æ·»åŠ åˆ° 'block' ç»„
  group: "block",

  // æ·»åŠ åˆ° 'inline' ç»„
  group: "inline",

  // æ·»åŠ åˆ° 'block' å’Œ 'list' ç»„
  group: "block list",

  // å½“ç„¶ ä¹Ÿå¯ä»¥æ˜¯è‡ªå®šä¹‰çš„èŠ‚ç‚¹åˆ†ç»„å
  group: "custom",
});
```

å¦‚æœæ‚¨æƒ³åœ¨ ç¼–è¾‘å™¨å†…å®¹çš„ï¼ˆdocï¼‰æ ¹èŠ‚ç‚¹ä¸­ ä½¿ç”¨è‡ªå®šä¹‰çš„èŠ‚ç‚¹åˆ†ç»„åï¼Œåˆ™éœ€è¦é‡å†™[é»˜è®¤æ ¹èŠ‚ç‚¹å®šä¹‰ schema](https://github.com/ueberdosis/tiptap/blob/main/packages/extension-document/src/document.ts)çš„ content å±æ€§

```js
import { Node } from "@tiptap/core";
import { EditorContent, useEditor } from "@tiptap/react";
import StarterKit from "@tiptap/starter-kit";
import React from "react";

// é‡å†™æ ¹èŠ‚ç‚¹ ä½¿å…¶çš„æ”¯æŒcustomç»„çš„æ‰€æœ‰èŠ‚ç‚¹ ä½œä¸ºå­èŠ‚ç‚¹
const CustomDocument = Node.create({
  name: "doc",
  topNode: true,
  content: "(block|custom)+",
});

const CustomNodes = Node.create({
  name: "custom-node-myspan",
  group: "custom",
  content: "text*",
  parseHTML() {
    return [{ tag: "myspan" }];
  },
  renderHTML({ HTMLAttributes }) {
    return ["myspan", HTMLAttributes, 0];
  },
});

export default () => {
  const editor = useEditor({
    extensions: [StarterKit, CustomDocument, CustomNodes],
    content: "<myspan>ä½ å¥½ä¸–ç•Œ</myspan>",
  });
  return <EditorContent editor={editor} />;
};
```

![schema-1](/img/api/schema-1.jpg)

### inline

**ä¼šæ¢è¡Œ**  
å½“çˆ¶èŠ‚ç‚¹ schema é…ç½®`content:block`ï¼Œ  
ä½ çš„ editor åˆå§‹å†…å®¹ä¸º`content: 'ä½ å¥½<myspan>ä¸–ç•Œ</myspan>'` åˆ™ä¼šè¢«æ¸²æŸ“æˆ

```html
<!-- å³textä¼šè¢«pæ ‡ç­¾åŒ…è£¹èµ·æ¥ -->
<p>ä½ å¥½</p>
<p><myspan>ä¸–ç•Œ</myspan></p>
```

è¿™ä¸ªæ—¶å€™å­èŠ‚ç‚¹ schema é…ç½® inline å¿…é¡»é…ç½®ä¸º falseï¼Œå¦åˆ™æŠ¥é”™

**ä¸ä¼šæ¢è¡Œ**  
å½“çˆ¶èŠ‚ç‚¹ schema é…ç½®`content:text*` æˆ–è€…`content:inline*`ï¼Œ  
ä½ çš„ editor åˆå§‹å†…å®¹ä¸º`content: '<myspan>ä½ å¥½ä¸–ç•Œ</myspan>'` åˆ™ä¼šè¢«æ¸²æŸ“æˆ

```html
ä½ å¥½<myspan>ä¸–ç•Œ</myspan>
```

è¿™ä¸ªæ—¶å€™å­èŠ‚ç‚¹ schema é…ç½® inline å¿…é¡»é…ç½®ä¸º trueï¼Œå¦åˆ™æŠ¥é”™

**inline å­˜åœ¨çš„æ„ä¹‰**  
çœ‹èµ·æ¥èŠ‚ç‚¹çš„ inline åªæ˜¯è¢«åŠ¨è®¾ç½®ï¼Œç”±çˆ¶èŠ‚ç‚¹ content çš„å€¼å†³å®šã€‚  
åœ¨ä¸Šè¾¹çš„ä¾‹å­ä¸­ï¼Œå¦‚`content:(block|custom)+` åˆ™åœ¨çˆ¶èŠ‚ç‚¹å†…éƒ¨å†…å®¹çš„ render è¡¨ç°ä¸ºï¼š  
å½“å‰èŠ‚ç‚¹ myspan å³ä¼šå’Œæ–‡æœ¬ Text ä¸€è¡Œã€‚æ­¤æ—¶çš„èŠ‚ç‚¹å°±åƒä¸ªæ ‡è®°ä¸€æ ·ï¼Œä½†å…·å¤‡èŠ‚ç‚¹çš„åŠŸèƒ½ã€‚

### mark

æ‚¨å¯ä»¥ä½¿ç”¨å®šä¹‰èŠ‚ç‚¹å†…å…è®¸å“ªäº›æ ‡è®° marksã€‚

```js
Node.create({
  // æ­¤èŠ‚ç‚¹åªå…è®¸ 'bold' æ ‡è®°
  marks: "bold",

  // æ­¤èŠ‚ç‚¹å…è®¸ 'bold'å’Œ 'italic' æ ‡è®°
  marks: "bold italic",

  // æ­¤èŠ‚ç‚¹å…è®¸æ‰€æœ‰æ ‡è®°
  marks: "_",

  // æ­¤èŠ‚ç‚¹ç¦æ­¢æ‰€æœ‰æ ‡è®°
  marks: "",
});
```

### atom

èŠ‚ç‚¹ä¸å¯ç›´æ¥ç¼–è¾‘ï¼Œåº”å°†å…¶è§†ä¸ºä¸€ä¸ªå•å…ƒã€‚

```js
Node.create({
  atom: true,
});
```

<Fieldset title="ğŸŒ° ä¸¾ä¸ªä¾‹å­">
  <AtomDemoDemo />
</Fieldset>

<CollapseCodeblock language="jsx">{AtomDemoDemoJs}</CollapseCodeblock>

å½“ç„¶æˆ‘ä»¬ä¹Ÿå†…ç½®äº†ä¸€ä¸ª[æåŠ Mention](https://tiptap.dev/api/nodes/mention)èŠ‚ç‚¹ å°±æ˜¯ç”¨äº†è¿™ä¸ªã€‚

### selectable

é…ç½®èŠ‚ç‚¹æ˜¯å¦å¯é€‰æ‹©ï¼Œä¸€èˆ¬é»˜è®¤æ˜¯å¯é€‰æ‹©çš„ã€‚

```js
Node.create({
  selectable: true,
});
```

:::tip
è¯‘è€…å°šæœªå‘ç°æœ‰ä»€ä¹ˆä½œç”¨ï¼Œä¸çŸ¥é“ä½¿ç”¨åœºæ™¯
:::

### draggable

ä½¿ç”¨æ­¤è®¾ç½®å¯ä»¥å°†èŠ‚ç‚¹é…ç½®ä¸ºå¯æ‹–åŠ¨

<Fieldset title="ğŸŒ° ä¸¾ä¸ªä¾‹å­">
  <DraggableDemo />
</Fieldset>

<CollapseCodeblock language="jsx">{DraggableDemoJs}</CollapseCodeblock>

### code

ä½ çš„å†…å®¹ä¸­åŒ…å«ä»£ç ï¼Œä½†æ˜¯æ¸²æŸ“çš„ä¸å¦‚ä½ çš„é¢„æœŸ(å¦‚ä¿ç•™ç©ºæ ¼ä¸æ¢è¡Œã€æ‹¥æœ‰ defining ç‰¹æ€§)ï¼Œå¯ä»¥å°è¯•å¼€å¯æ­¤é…ç½®

```js
Node.create({
  code: true,
});
```

<Fieldset title="ğŸŒ° ä¸¾ä¸ªä¾‹å­">
  <CodeTrueDemo />
</Fieldset>
<Tabs>
  <TabItem value="index.jsx" label="Codeä¸ºtrue" default>
    <CollapseCodeblock language="jsx">{CodeTrueDemoJs}</CollapseCodeblock>
  </TabItem>
  <TabItem value="Codeä¸ºfalse" label="Codeä¸ºfalse">
    <Fieldset title="ğŸŒ° ä¸¾ä¸ªä¾‹å­">
      <CodeFalseDemo />
    </Fieldset>
    <CollapseCodeblock language="jsx">{CodeFalseDemoJs}</CollapseCodeblock>
  </TabItem>
</Tabs>

### whitespace

æ§åˆ¶èŠ‚ç‚¹ä¸­çš„ç©ºæ ¼çš„å¤„ç†æ–¹å¼

```js
Node.create({
  whitespace: "pre",
});
```

:::tip
è¯‘è€…å°šæœªå‘ç°æœ‰ä»€ä¹ˆä½œç”¨ï¼Œä¸çŸ¥é“ä½¿ç”¨åœºæ™¯
:::

### defining

é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“èŠ‚ç‚¹çš„å…¨éƒ¨å†…å®¹è¢«æ›¿æ¢æ—¶ï¼ˆä¾‹å¦‚ï¼Œç²˜è´´æ–°å†…å®¹æ—¶ï¼‰ï¼Œå½“å‰èŠ‚ç‚¹æœ¬èº«å°±ä¼šè¢«ä¿ç•™ã€‚

å¼€å¯æ­¤é€‰é¡¹ï¼Œåˆ™ä¼šä¿è¯æ›¿æ¢èŠ‚ç‚¹æ‰€æœ‰å†…å®¹ åŒ…å«èŠ‚ç‚¹æœ¬èº«ã€‚

é€šå¸¸ï¼ŒèŠ‚ç‚¹ Blockquoteã€CodeBlockã€Heading å’Œ ListItem ä¼šç”¨åˆ°æ­¤é¡¹ã€‚

```js
Node.create({
  defining: true,
});
```

<Tabs>
  <TabItem value="Definingä¸ºtrue" label="Definingä¸ºtrue" default>
    <Fieldset title="ğŸŒ° ä¸¾ä¸ªä¾‹å­">
      <DefiningTrueDemo />
    </Fieldset>
    <CollapseCodeblock language="jsx">{DefiningTrueDemoJs}</CollapseCodeblock>
  </TabItem>
  <TabItem value="Definingä¸ºfalse" label="Definingä¸ºfalse">
    <Fieldset title="ğŸŒ° ä¸¾ä¸ªä¾‹å­">
      <DefiningFalseDemo />
    </Fieldset>
    <CollapseCodeblock language="jsx">{DefiningFalseDemoJs}</CollapseCodeblock>
  </TabItem>
</Tabs>

### isolating

å°†åˆ é™¤å’Œç¼–è¾‘ç­‰å…‰æ ‡æ§åˆ¶åœ¨ä¸€å®šèŒƒå›´å†…çš„èŠ‚ç‚¹ï¼Œæ¯”å¦‚[å•å…ƒæ ¼ TableCell](https://tiptap.dev/api/nodes/table-cell)ä¼šç”¨åˆ°

```js
Node.create({
  isolating: true,
});
```

:::tip
è¯‘è€…å°šæœªå‘ç°æœ‰ä»€ä¹ˆä½œç”¨ï¼Œé™¤äº†è¡¨æ ¼çš„å•å…ƒæ ¼ä¼šç”¨åˆ°ï¼Œå…¶å®ƒä¸çŸ¥é“ä½¿ç”¨åœºæ™¯
:::

### allowGapCursor

ä¸º[Gapcursor æ‰©å±•](https://tiptap.dev/api/extensions/gapcursor)æä¾›çš„ä¸€ä¸ªå±æ€§ï¼Œç”¨æ¥å†³å®šå…‰æ ‡æ˜¯å¦å¯ä»¥å‡ºç°åœ¨è¯¥èŠ‚ç‚¹çš„ä»»æ„é—´éš™çš„åœ°æ–¹

```js
Node.create({
  allowGapCursor: false,
});
```

:::tip
è¯‘è€…å°šæœªå‘ç°æœ‰ä»€ä¹ˆä½œç”¨ï¼Œä¸çŸ¥é“ä½¿ç”¨åœºæ™¯
:::

### tableRole

ä¸º[Table æ‰©å±•](https://tiptap.dev/api/nodes/table)æä¾›çš„ä¸€ä¸ªå±æ€§ï¼Œæ¥é…ç½®èŠ‚ç‚¹å…·æœ‰çš„è§’è‰²ï¼Œå¦‚è¡¨å¤´ã€è¡¨è¡Œã€å•å…ƒæ ¼

```js
Node.create({
  // å…è®¸çš„å€¼ä¸ºtableã€rowã€cellå’Œheader_cell
  tableRole: "cell",
});
```

:::tip
è¯‘è€…å°šæœªå‘ç°æœ‰ä»€ä¹ˆä½œç”¨ï¼Œä¸çŸ¥é“ä½¿ç”¨åœºæ™¯
:::

## æ ‡è®° schema

æ ‡è®°å¯ä»¥åº”ç”¨äºèŠ‚ç‚¹çš„ç‰¹å®šéƒ¨åˆ† ä½¿å…¶ç‰¹æ®Šæ˜¾ç¤ºï¼Œæ ‡è®°æœ‰ï¼š**ç²—ä½“**ã€_æ–œä½“_ã€~~åˆ é™¤çº¿~~ã€<a>é“¾æ¥</a>ç­‰

å…ˆæ¥ä¸ªä¾‹å­ è‡ªå·±æ‰©å……åŠ ä¸€ä¸ª ã€é‡ç‚¹é¡¹ã€‘çš„æ ‡è®°

<Fieldset title="ğŸŒ° ä¸¾ä¸ªä¾‹å­">
  <CustomMarkDemo />
</Fieldset>
<Tabs>
<TabItem value="index.jsx" label="index.jsx" default>
  <CollapseCodeblock language="jsx">{CustomMarkDemoJs}</CollapseCodeblock>
</TabItem>
<TabItem value="mark-dot.js" label="mark-dot.js">
  <CollapseCodeblock language="jsx">{CustomMarkDotDemoJs}</CollapseCodeblock>
</TabItem>
<TabItem value="å…¨å±€æ ·å¼" label="å…¨å±€æ ·å¼">

```css
text-dot {
  text-emphasis: dot;
  text-emphasis-position: under left;
}
```

  </TabItem>
</Tabs>

### inclusive

é…ç½®æ ‡è®°åœ¨å…‰æ ‡ç»“æŸæ—¶æ˜¯å¦éœ€è¦å¤„äºæ´»åŠ¨çŠ¶æ€ã€‚

```js
Mark.create({
  inclusive: false,
});
```

è¿™é‡Œæœ‰å¯¹æ¯”çš„ä¾‹å­

<Tabs>
  <TabItem value="inclusiveä¸ºtrue" label="inclusiveä¸ºtrue" default>
    <Fieldset title="ğŸŒ° ä¸¾ä¸ªä¾‹å­">
      <InclusiveTrueDemo />
    </Fieldset>
    <CollapseCodeblock language="jsx">
      {InclusiveMarkDotDemoJs}
    </CollapseCodeblock>
    <CollapseCodeblock language="jsx">{InclusiveTrueDemoJs}</CollapseCodeblock>
  </TabItem>
  <TabItem value="inclusiveä¸ºfalse" label="inclusiveä¸ºfalse">
    <Fieldset title="ğŸŒ° ä¸¾ä¸ªä¾‹å­">
      <InclusiveFalseDemo />
    </Fieldset>
    <CollapseCodeblock language="jsx">
      {InclusiveMarkDotDemoJs}
    </CollapseCodeblock>
    <CollapseCodeblock language="jsx">{InclusiveFalseDemoJs}</CollapseCodeblock>
  </TabItem>
</Tabs>

### excludes

é»˜è®¤æƒ…å†µä¸‹ï¼ŒèŠ‚ç‚¹å¯ä»¥è¢«æ ‡è®°åŒæ—¶åº”ç”¨ã€‚ä½¿ç”¨ excludes å±æ€§ï¼Œæ‚¨å¯ä»¥å®šä¹‰å“ªäº›æ ‡è®°ä¸èƒ½ä¸æ ‡è®°å…±å­˜ã€‚

```js
Mark.create({
  // ä¸èƒ½å’Œç²—ä½“æ ‡è®°åŒæ—¶ä½¿ç”¨
  excludes: 'bold'
  // ä¸èƒ½å’Œå…¶å®ƒä»»ä½•æ ‡è®°åŒæ—¶ä½¿ç”¨
  excludes: '_',
})
```

ä¸¾ä¸ªä¾‹å­ï¼Œå®šä¸€ä¸ªä¸èƒ½å’Œç²—ä½“åŒæ—¶ä½¿ç”¨çš„æ ‡è®°

<Fieldset title="ğŸŒ° ä¸¾ä¸ªä¾‹å­">
  <ExcludesDemo />
</Fieldset>
<CollapseCodeblock language="jsx">{ExcludesDemoJs}</CollapseCodeblock>


### exitable
é»˜è®¤æƒ…å†µä¸‹ï¼Œæ ‡è®°ä¼šâ€œæ•è·â€å…‰æ ‡ï¼Œè¿™æ„å‘³ç€å…‰æ ‡æ— æ³•ç¦»å¼€æ ‡è®°ï¼ˆæ¯”å¦‚åœ¨æ–‡æœ«æ‰§è¡Œæ ‡è®°ï¼Œé‚£ä¹ˆæ‚¨çš„å…‰æ ‡å‘å³æ°¸è¿œä¹Ÿç§»åŠ¨ä¸å‡ºå»ï¼Œæ ‡è®°çš„activeä¸€ç›´å¤„äºæ¿€æ´»çŠ¶æ€ï¼‰ã€‚   
å¦‚æœè®¾ç½®ä¸º trueï¼Œå½“æ ‡è®°ä½äºèŠ‚ç‚¹æœ«å°¾æ—¶ï¼Œæ ‡è®°å°†é€€å‡ºã€‚   
è¿™åœ¨æŸäº›åœºæ™¯ä¸‹å¾ˆä½¿ç”¨ï¼Œæ¯”å¦‚è¯´codeæ ‡è®°ã€‚
```js
Mark.create({
  // æ ‡è®°çš„å…‰æ ‡æ˜¯å¦å¯ä»¥åœ¨å¤´å°¾ç¦»å¼€ -é»˜è®¤ä¸ºfalse(ä¸ç¦»å¼€)
  exitable: true,
})
```   

è¿™é‡Œæœ‰ä¸ªå¯¹æ¯”çš„ä¾‹å­ï¼Œæ‚¨å°†å…‰æ ‡ç§»åŠ¨åˆ°æœ«å°¾å¤„ å¹¶ä½¿ç”¨å³æ–¹å‘é”®å‘å³ç§»åŠ¨
<Tabs>
   <TabItem value="Exitableä¸ºfalse" label="Exitableä¸ºfalse" default>
    <Fieldset title="ğŸŒ° ä¸¾ä¸ªä¾‹å­">
      <ExitableFalseDemo />
    </Fieldset>
    <CollapseCodeblock language="jsx">
      {ExitableMarkDotDemoJs}
    </CollapseCodeblock>
    <CollapseCodeblock language="jsx">{ExitableFalseDemoJs}</CollapseCodeblock>
  </TabItem>
  <TabItem value="Exitableä¸ºtrue" label="Exitableä¸ºtrue">
    <Fieldset title="ğŸŒ° ä¸¾ä¸ªä¾‹å­">
      <ExitableTrueDemo />
    </Fieldset>
    <CollapseCodeblock language="jsx">
      {ExitableMarkDotDemoJs}
    </CollapseCodeblock>
    <CollapseCodeblock language="jsx">{ExitableTrueDemoJs}</CollapseCodeblock>
  </TabItem>
</Tabs>

### group
å°†æ‚¨çš„æ ‡è®° æ·»åŠ ï¼ˆæˆ–å½’ç±»ï¼‰åˆ°ä¸€ç»„ä¸­ã€‚
è¿™æ ·åç»­å¯ä»¥åœ¨[èŠ‚ç‚¹å±æ€§ä¸­å¼•ç”¨](/api/schema/#mark)ã€‚
```js
Mark.create({
  // å°†æ­¤æ ‡è®°å½’ç±»åˆ° 'basic' ç»„
  group: 'basic',
  // å°†æ­¤æ ‡è®°å½’ç±»åˆ° 'basic' å’Œ 'foobar' ç»„
  group: 'basic foobar',
})
```


### code
ä½ çš„å†…å®¹ä¸­åŒ…å«ä»£ç ï¼Œä½†æ˜¯æ¸²æŸ“çš„ä¸å¦‚ä½ çš„é¢„æœŸ(å¦‚ä¿ç•™ç©ºæ ¼ä¸æ¢è¡Œã€æ‹¥æœ‰ defining ç‰¹æ€§)ï¼Œå¯ä»¥å°è¯•å¼€å¯æ­¤é…ç½®
```js
Mark.create({
  code: true,
})
```
ä½¿ç”¨åœºæ™¯å’Œ [èŠ‚ç‚¹çš„é…ç½®é¡¹code](/api/schema/#code) ä¸€æ ·ã€‚


### spanning
é»˜è®¤æƒ…å†µä¸‹ï¼Œæ ‡è®°å¯ä»¥ä½¿ç”¨æ˜¯è·¨èŠ‚ç‚¹çš„ã€‚    
è®¾ç½®spanning: falseåˆ™è¯´æ˜æ ‡è®°ä¸å¾—è·¨è¶Šå¤šä¸ªèŠ‚ç‚¹ã€‚
```js
Mark.create({
  spanning: false,
})
```

## è·å–åº•å±‚ ProseMirror schema
åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œæ‚¨å¯èƒ½éœ€è¦ä½¿ç”¨åº•å±‚Schemaã€‚   
æ¯”å¦‚åä½œæ–‡æœ¬ç¼–è¾‘åŠŸèƒ½ï¼Œæˆ–æ‚¨æƒ³è¦æ‰‹åŠ¨å°†æ‚¨çš„å†…å®¹å‘ˆç°ä¸º HTMLã€‚

```js
import { Editor } from '@tiptap/core'
import Document from '@tiptap/extension-document'
import Paragraph from '@tiptap/extension-paragraph'
import Text from '@tiptap/extension-text'

const editor = new Editor({
  extensions: [
    Document,
    Paragraph,
    Text,
    // ä¸‹è¾¹æˆ–è¿˜æœ‰æ›´å¤šå…¶å®ƒ
  ]
})
const schema = editor.schema
```

å¦‚æœæ‚¨åªæƒ³æ‹¥æœ‰æ¶æ„è€Œä¸åˆå§‹åŒ–å®é™…çš„ç¼–è¾‘å™¨ï¼Œåˆ™å¯ä»¥ä½¿ç”¨getSchemaè¾…åŠ©å‡½æ•°ã€‚
```js
import { getSchema } from '@tiptap/core'
import Document from '@tiptap/extension-document'
import Paragraph from '@tiptap/extension-paragraph'
import Text from '@tiptap/extension-text'

const schema = getSchema([
  Document,
  Paragraph,
  Text,
  // ä¸‹è¾¹æˆ–è¿˜æœ‰æ›´å¤šå…¶å®ƒ
])
```