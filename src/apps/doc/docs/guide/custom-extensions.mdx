---
title: è‡ªå®šä¹‰åŠŸèƒ½
sidebar_position: 8
---

import CodeBlock from "@theme/CodeBlock";
import CollapseCodeblock from "/src/components/CollapseCodeblock";
import Fieldset from "/src/components/Fieldset";
import AttributesDemo from "/src/components/AttributesDemo";
import AttributesDemoJs from "!!raw-loader!/src/components/AttributesDemo/index.js";
import RenderHTMLDemo from "/src/components/RenderHTMLDemo";
import RenderHTMLDemoJs from "!!raw-loader!/src/components/RenderHTMLDemo/index.js";
import StrikeDemo from "/src/components/StrikeDemo";
import StrikeDemoJs from "!!raw-loader!/src/components/StrikeDemo/index.js";


:::tip
ä¸ºé¿å…ç†è§£å’Œç¿»è¯‘è¯¯å·®ï¼Œç‰¹æ­¤è¯´æ˜ï¼ŒextensionsæŒ‡çš„æ˜¯`ç¼–è¾‘å™¨é…ç½®å¯¹è±¡ä¸­çš„é…ç½®é¡¹extensions`ï¼Œæ­¤é…ç½®é¡¹æ”¯æŒ èŠ‚ç‚¹ã€æ ‡è®°å’Œæ‰©å±•ï¼Œä¸€èˆ¬æˆ‘å°†å…¶ç§°ä¸ºä¸‰å¤§ä»¶æˆ–åŠŸèƒ½ï¼Œå¹¶ä¸æ˜¯å•çº¯çš„æŒ‡æ‰©å±•ä¸€é¡¹ã€‚
:::

## ä»‹ç»

Tiptap çš„ä¼˜åŠ¿ä¹‹ä¸€æ˜¯å®ƒçš„å¯æ‰©å±•æ€§ï¼Œæ‚¨å¯ä»¥æ ¹æ®æ‚¨çš„å–œå¥½æ‰©å±•ç¼–è¾‘å™¨ï¼ˆçš„åŠŸèƒ½ï¼‰ã€‚

Tiptap å†…å®¹æœ‰ä¸‰å¤§æ³•å®æ„æˆï¼šèŠ‚ç‚¹(node)ã€æ ‡è®°(mark)å’Œæ‰©å±•(extension)ï¼Œæ‚¨éƒ½å¯å»æ‰©å±•ä¸°å¯Œå®ƒä»¬ã€‚

æœ¬ç« çš„æ‰€æœ‰å†…å®¹ éƒ½æ˜¯å‡å¯ç”¨äº è¿™ä¸‰å¤§æ³•å®ä¸Šã€‚

## ç»§æ‰¿ç°æœ‰çš„åŠŸèƒ½

æ¯ä¸ª Tiptap çš„åŠŸèƒ½ä¸‰å¤§ä»¶éƒ½æœ‰ä¸€ä¸ª`extend()`æ–¹æ³•ï¼Œå®ƒæ¥å—ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«æ‚¨æƒ³è¦æ›´æ”¹æˆ–æ·»åŠ çš„æ‰€æœ‰å†…å®¹ã€‚

æ¯”æ–¹è¯´ï¼Œæ‚¨æƒ³æ›´æ”¹[æ— åºåˆ—è¡¨æ‰©å±•](/)çš„é”®ç›˜å¿«æ·é”®ï¼Œé‚£å¦‚ä¸‹å°±ä¼šæŠŠå°†æ™®é€šæ®µè½è½¬ä¸ºæ— é¡»åˆ—è¡¨çš„å¿«æ·é”®`Control+Shift+8`æ”¹ä¸ºäº†`Control+l`ã€‚

```js
import BulletList from "@tiptap/extension-bullet-list";

// é‡å†™è¯¥æ‰©å±•é‡Œå®šä¹‰çš„å¿«æ·é”®è®¾ç½®
const CustomBulletList = BulletList.extend({
  addKeyboardShortcuts() {
    return {
      "Mod-l": () => this.editor.commands.toggleBulletList(),
    };
  },
});

// åœ¨ä½ çš„ç¼–è¾‘å™¨ä¸­å°è¯•ä¸€äº›ä½ çš„æ–°æ‰©å±•å§
new Editor({
  extensions: [
    CustomBulletList(),
    // â€¦
  ],
});
```

### åç§°

æ‰©å±•åç§°æ— æ³•ï¼ˆé€šè¿‡ extendï¼‰ä¿®æ”¹ï¼Œæ¢ä¸ªæ€è·¯ï¼Œå¦‚æœå¯ä»¥æŠŠæ•´ä¸ªæ‰©å±•ä»£ç èµ‹å€¼ä¸€ä»½ å…¶ä¸­æ”¹å†™åå­—å­—æ®µã€‚ç„¶åå†ä½¿ç”¨è¿™ä¸ªè‡ªå®šä¹‰çš„æ‰©å±• ä¸å°±è¡Œäº†ï¼Ÿï¼

### è®¾ç½®é¡¹

é€šè¿‡`addOptions`ï¼Œå¯ä»¥ä¸ºä¸‰å¤§ä»¶æ·»åŠ ä¸€äº›è®¾ç½®é¡¹ï¼ˆç¿»è¯‘ä¸ºè®¾ç½®é¡¹ç›®ï¼Œå…¶å®ä¸å¤ªåˆé€‚ï¼Œå®ƒç®—æ˜¯å®šä¹‰çš„ä¸€äº›æ’ä»¶å†…éƒ¨å¸¸é‡å§ï¼‰ï¼Œè¿™äº›è®¾ç½®é¡¹ä½ å¯ä»¥åœ¨åè¾¹çš„renderHtmlæˆ–parseHTMLä¸­ç”¨åˆ°ã€‚         
å¦‚æœä½ æƒ³æ›´æ”¹é»˜è®¤è®¾ç½®ï¼Œä½†æ˜¯ä¸å®Œå…¨é‡å†™ï¼Œè¿˜æƒ³ä¿æŒçˆ¶çº§åŸæœ‰çš„å†…å®¹ï¼Œä½ å¯ä»¥è¿™æ ·

```js
import Heading from "@tiptap/extension-heading";

const CustomHeading = Heading.extend({
  addOptions() {
    return {
      ...this.parent?.(),
      levels: [1, 2, 3],
    };
  },
});
```

å¦‚ä¸Š CustomHeading æ‰©å±• é™¤äº† levels ä¸ä¸€æ ·ï¼Œå…¶å®ƒéƒ½å’ŒåŸ Heading æ‰©å±•ä¿æŒä¸€è‡´ï¼

## åˆ›å»ºæ–°çš„åŠŸèƒ½

é™¤äº†ç»§æ‰¿ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å…è®¸æ‚¨å¤´å¼€å§‹æ„å»ºè‡ªå·±çš„åŠŸèƒ½æ‰©å±•ã€‚

### åˆ›å»ºæ‰©å±•

```js
import { Extension } from "@tiptap/core";

const CustomExtension = Extension.create({
  name: "customExtension",
  // ...
});
```

### åˆ›å»ºèŠ‚ç‚¹

æ‚¨å¯ä»¥å°†æ–‡æ¡£è§†ä¸ºä¸€æ£µæ ‘ï¼Œé‚£ä¹ˆ[èŠ‚ç‚¹](https://tiptap.dev/api/nodes)åªæ˜¯è¯¥æ ‘ä¸­çš„ä¸€ç§å†…å®¹ã€‚æ‚¨å¯ä»¥å­¦ä¹ [Paragraph](/)ã€Heading æˆ– CodeBlockã€‚

```js
import { Node } from "@tiptap/core";

const CustomNode = Node.create({
  name: "customNode",
  // ...
});
```

### åˆ›å»ºæ ‡è®°

æ ‡è®°å¯ä»¥åº”ç”¨äºèŠ‚ç‚¹ï¼Œä¾‹å¦‚æ·»åŠ å†…è”æ ¼å¼ï¼šåŠ ç²—ã€æ–œä½“ã€‚æ‚¨å¯ä»¥å­¦ä¹ [Bold](/),Italic å’Œ Highlightã€‚

```js
import { Mark } from "@tiptap/core";

const CustomMark = Mark.create({
  name: "customMark",
  // ...
});
```

## åŠ è½½ä¼˜å…ˆçº§

ä¼˜å…ˆçº§å®šä¹‰äº†æ‰©å±•æ³¨å†Œçš„é¡ºåºã€‚é»˜è®¤ä¼˜å…ˆçº§æ˜¯ 100ï¼Œè¿™æ˜¯å¤§å¤šæ•°æ‰©å±•æ‰€å…·æœ‰çš„ã€‚å…·æœ‰æ›´é«˜ä¼˜å…ˆçº§çš„æ‰©å±•å°†è¢«æ›´æ—©åœ°åŠ è½½ã€‚

```js
import Link from "@tiptap/extension-link";

const CustomLink = Link.extend({
  priority: 1000,
});
```

é™¤æ­¤ä¹‹å¤–ï¼Œæ›´é«˜çš„ä¼˜å…ˆçº§çš„æ‰©å±• è¿˜ä¼šå½±å“åˆ°æœ€ç»ˆçš„æ¸²æŸ“æ•ˆæœï¼Œä¾‹å¦‚ Link æ ‡è®°å…·æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ã€‚è¿™æ„å‘³ç€å®ƒå°†å‘ˆç°ä¸º`<a href="â€¦"><strong>Example</strong></a>`è€Œä¸æ˜¯`<strong><a href="â€¦">Example</a></strong>`ã€‚

## æ‰©å±•çš„å†…éƒ¨å­˜å‚¨

åœ¨æŸäº›æ—¶å€™ï¼Œæ‚¨å¯èƒ½å¸Œæœ›åœ¨æ‰©å±•å®ä¾‹ä¸­ä¿å­˜ä¸€äº›æ•°æ®å˜é‡ç­‰ã€‚æ‚¨å¯ä»¥åœ¨ ä¸‹çš„æ‰©å±•ä¸­è®¿é—®å®ƒ`storage`

```js
import { Extension } from "@tiptap/core";

const CustomExtension = Extension.create({
  name: "customExtension",

  addStorage() {
    return {
      awesomeness: 100,
    };
  },

  onUpdate() {
    this.storage.awesomeness += 1;
  },
});
```

åœ¨æ‰©å±•å¤–éƒ¨ï¼Œæ‚¨å¯ä»¥é€šè¿‡ editor.storage æ¥è®¿é—®

```js
const editor = new Editor({
  extensions: [CustomExtension],
});

const awesomeness = editor.storage.customExtension.awesomeness;
```

## æ¶æ„

[æ¶æ„](api/schema/)ï¼ŒTiptap å·¥ä½œåœ¨ä¸¥æ ¼çš„ schema ä¸­ã€‚  
schema è§„å®šäº†æ ‡è®°ã€èŠ‚ç‚¹å’Œæ‰©å±•ï¼Œè¿™äº›å…±åŒç»„æˆäº†ç¼–è¾‘å™¨å¼ºå¤§ä¸°å¯Œçš„åŠŸèƒ½ã€‚  
æ ‡è®°å†³å®šäº†æ ·å¼ï¼ŒèŠ‚ç‚¹å¯ä»¥å®šä¹‰æ‚¨çš„å¯Œæ–‡æœ¬å†…å®¹æ ‡ç­¾æ”¯æŒ å’ŒåµŒå¥—è§„èŒƒç­‰ï¼Œè€Œæ‰©å±•åˆ™ä¸ºæ‚¨çš„ç¼–è¾‘å™¨æä¾›äº†é¢å¤–çš„åŠŸèƒ½ã€‚

## å±æ€§

å±æ€§å¯ä»¥è®©æ‚¨åœ¨ï¼ˆèŠ‚ç‚¹ã€æ ‡è®°ã€æ‰©å±•ï¼‰å†…å®¹ä¸­å­˜å‚¨é™„åŠ ä¿¡æ¯ã€‚  
å‡è®¾æ‚¨æƒ³æ‰©å±•é»˜è®¤ Paragraph èŠ‚ç‚¹ä»¥å…·æœ‰ä¸åŒçš„é¢œè‰²ï¼š

```js
const CustomParagraph = Paragraph.extend({
  addAttributes() {
    // è¿”å›ä¸€ä¸ªå±æ€§é…ç½®å¯¹è±¡
    return {
      color: {
        default: "pink",
      },
    };
  },
});

// æ¸²æŸ“ç»“æœå¦‚ä¸‹
// <p color="pink">ç¤ºä¾‹æ–‡æœ¬</p>
```

è®©æˆ‘ä»¬ç»§ç»­ä½¿ç”¨é¢œè‰²ç¤ºä¾‹ï¼Œå¹¶å‡è®¾æ‚¨æƒ³è¦æ·»åŠ ä¸€ä¸ªå†…è”æ ·å¼æ¥å®é™…ä¸ºæ–‡æœ¬ç€è‰²ã€‚ä½¿ç”¨è¯¥ renderHTML å‡½æ•°ï¼Œæ‚¨å¯ä»¥è¿”å›å°†åœ¨è¾“å‡ºä¸­å‘ˆç°çš„ HTML å±æ€§ã€‚

æ­¤ç¤ºä¾‹æ ¹æ®ä»¥ä¸‹å€¼æ·»åŠ æ ·å¼ HTML å±æ€§ colorï¼š

```js
const CustomParagraph = Paragraph.extend({
  addAttributes() {
    return {
      color: {
        default: null,
        // è¿”å› å¦‚ä½•å‘ˆç°å±æ€§çš„å­—ç¬¦ä¸²
        renderHTML: (attributes) => {
          // â€¦ è¿”å›ä¸€ä¸ªå±æ€§é…ç½®å¯¹è±¡
          return {
            style: `color: ${attributes.color}`,
          };
        },
      },
    };
  },
});

// æ¸²æŸ“ç»“æœå¦‚ä¸‹
// <p style="color: pink">ç¤ºä¾‹æ–‡æœ¬</p>
```

æ‚¨è¿˜å¯ä»¥æ§åˆ¶å¦‚ä½•ä» HTML è§£æå±æ€§ã€‚  
ä¹Ÿè®¸æ‚¨æƒ³å°†é¢œè‰²å­˜å‚¨åœ¨ä¸€ä¸ªåä¸º data-colorï¼ˆè€Œä¸ä»…ä»…æ˜¯ colorï¼‰çš„å±æ€§ä¸­ï¼Œä¸‹é¢æ˜¯æ‚¨å°†å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ï¼š

<Fieldset title="ğŸŒ° ä¸¾ä¸ªä¾‹å­">
  <AttributesDemo />
</Fieldset>

<CollapseCodeblock language="jsx">{AttributesDemoJs}</CollapseCodeblock>

### æ‰©å±•ç°æœ‰å±æ€§
å¦‚æœè¦å‘ä¸‰å¤§ä»¶æ·»åŠ å±æ€§å¹¶ä¿ç•™ç°æœ‰å±æ€§ï¼Œæ‚¨å¯ä»¥é€šè¿‡ è®¿é—®å®ƒä»¬`this.parent()`ã€‚
```js
const CustomTableCell = TableCell.extend({
  addAttributes() {
    return {
      ...this.parent?.(),
      myCustomAttribute: {
        // â€¦
      },
    }
  },
})
```

## å…¨å±€å±æ€§
å±æ€§å¯ä»¥ä¸€æ¬¡åº”ç”¨äºå¤šä¸ªä¸‰å¤§ä»¶ã€‚    
è¿™å¯¹äºæ–‡æœ¬å¯¹é½ã€è¡Œé«˜ã€é¢œè‰²ã€å­—ä½“ç³»åˆ—å’Œå…¶ä»–ä¸æ ·å¼ç›¸å…³çš„å±æ€§å¾ˆæœ‰ç”¨ã€‚

ä»¥TextAlignæ‰©å±•æ¥ä¸¾ä¾‹
```js
const TextAlign = Extension.create({
  addGlobalAttributes() {
    return [
      {
        // ç»§æ‰¿ï¼ˆå³åº”ç”¨åœ¨ï¼‰ä»¥ä¸‹extensionsï¼ˆèŠ‚ç‚¹ã€æ ‡è®°ã€æè¿°ï¼‰
        types: [
          'heading',
          'paragraph',
        ],
        // â€¦ æ‹¥æœ‰è¿™äº›å±æ€§
        attributes: {
          textAlign: {
            default: 'left',
            renderHTML: attributes => ({
              style: `text-align: ${attributes.textAlign}`,
            }),
            parseHTML: element => element.style.textAlign || 'left',
          },
        },
      },
    ]
  },
})
```
å¦‚æœæœ‰æ—¶é—´ï¼Œæ‚¨å¯ä»”ç»†æŸ¥çœ‹[TextAlignæ‰©å±•çš„å®Œæ•´æºä»£ç ](https://github.com/ueberdosis/tiptap/tree/main/packages/extension-text-align)ã€‚


## å‘ˆç° HTML
ä½¿ç”¨è¯¥renderHTMLå‡½æ•°ï¼Œæ‚¨å¯ä»¥æ§åˆ¶ä¸‰å¤§ä»¶ï¼ˆèŠ‚ç‚¹ã€æ ‡è®°ã€æè¿°ï¼‰å¦‚ä½•å‘ˆç°ä¸º HTMLã€‚    
renderHTMLå‡½æ•°æœ‰ä¸€ä¸ªå‚æ•°ï¼Œå…¶ä¸­åŒ…å«æ‰€æœ‰æœ¬åœ°å±æ€§ã€å…¨å±€å±æ€§å’Œé…ç½®çš„ CSS ç±»ã€‚ 

è¿™æ˜¯Boldæ‰©å±•çš„ä¸€ä¸ªä¾‹å­
```js
renderHTML({ HTMLAttributes }) {
  return ['strong', HTMLAttributes, 0]
},
```
è¿”å›æ˜¯ä¸ªæ•°ç»„ä¸­:
* ç¬¬ä¸€ä¸ªå€¼åº”è¯¥æ˜¯ HTML æ ‡ç­¾çš„åç§°ã€‚
* ç¬¬äºŒä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–ä¸€ä¸ªæ•°ç»„ï¼Œè‹¥æ˜¯å¯¹è±¡å®ƒè¢«è§£é‡Šä¸ºä¸€ç»„å±æ€§ã€‚
* ç¬¬ä¸‰ä¸ªæ˜¯ä¸€ä¸ªæ•°å­—ï¼Œç”¨äºæŒ‡ç¤ºåº”è¯¥æ’å…¥å†…å®¹çš„ä½ç½®ã€‚

è‹¥ç¬¬äºŒä¸ªå…ƒç´ ä¸ºæ•°ç»„ï¼Œåˆ™è¡¨ç¤ºä¹‹åçš„ä»»ä½•å…ƒç´ éƒ½å‘ˆç°ä¸ºå­å…ƒç´ ã€‚       
è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹å¸¦æœ‰ä¸¤ä¸ªåµŒå¥—æ ‡ç­¾çš„æ‰©å±•çš„æ¸²æŸ“ ä»¥CodeBlockä¸ºä¾‹ï¼š
```js
renderHTML({ HTMLAttributes }) {
  return ['pre', ['code', HTMLAttributes, 0]]
},
```

å¦‚æœæ‚¨æƒ³æ·»åŠ ä¸€äº›é¢å¤–çš„å±æ€§ï¼Œè¯·ä½¿ç”¨mergeAttributes
```js
import { mergeAttributes } from '@tiptap/core'

renderHTML({ HTMLAttributes }) {
  return ['a', mergeAttributes(HTMLAttributes, { rel: this.options.rel }), 0]
},
```

<Fieldset title="ğŸŒ° ä¸¾ä¸ªä¾‹å­">
  <RenderHTMLDemo />
</Fieldset>
<CollapseCodeblock language="jsx">{RenderHTMLDemoJs}</CollapseCodeblock>

## è§£æHTML
æ­¤å‡½æ•°å®šä¹‰äº†  ä¸‰å¤§ä»¶çš„è§£æè§„åˆ™ï¼Œé‡åˆ°é‚£äº›åŒ¹é…åˆ°çš„æ ‡ç­¾ä¼šè§¦å‘è§£æï¼ˆè¿›è€Œæ‰§è¡ŒrenderHTMLï¼‰ã€‚
ä¸‹è¾¹æ˜¯ä¸€ä¸ªBoldçš„è§£æç®€åŒ–ç¤ºä¾‹
```js
parseHTML() {
  return [
    {
      //æ„æ€æ˜¯åªæœ‰é‡åˆ°strong æ ‡ç­¾çš„æ—¶å€™æ‰ä¼šè§¦å‘æœ¬æ‰©å±•/èŠ‚ç‚¹/æ ‡è®°
      tag: 'strong',  
    },
  ]
},
```


### ä½¿ç”¨ getAttrs
getAttrsæ ¹æ®æ‚¨è¿”å›å¸ƒå°”å€¼ï¼Œæ¥å†³å®šæ˜¯å¦ä¼šè§¦å‘è§£æï¼ˆè¿›è€Œæ‰§è¡ŒrenderHTMLï¼‰ã€‚

ç›¸æ¯”tagï¼Œä»–æ›´åŠ çµæ´»ã€‚å› ä¸ºå®ƒæ˜¯ä¸ªå‡½æ•°ï¼Œé€šè¿‡å½¢å‚ æ‚¨å¯ä»¥è·å–åˆ°å½“å‰çš„domèŠ‚ç‚¹ä¿¡æ¯ï¼Œè¿›è€Œæ ¹æ®èŠ‚ç‚¹ä¿¡æ¯ åšå‡ºä¸€äº›é€»è¾‘æ€§çš„å†³å®š

```js
parseHTML() {
  return [
    {
      tag: 'span',
      getAttrs: element => {
        // æ£€æŸ¥æ˜¯å¦åŒ…å«è¿™ä¸ªå±æ€§: element.hasAttribute('style')
        // æ£€æŸ¥è¡Œå†…æ ·å¼: element.style.color
        // æ£€æŸ¥ä¸€ä¸ªç‰¹æ®Šå±æ€§: element.getAttribute('data-color')
        // æ¯”å¦‚ è¿™ä¸ªæ„æ€æ˜¯ï¼šåªæœ‰å½“tagä¸ºspanï¼Œå¹¶ä¸”å…¶spanæ ‡ç­¾é¢œè‰²ä¸ºredçš„æ—¶å€™ æ‰ä¼šåŒ¹é…ä¸Š å¹¶è§£æ
        return element.style.color==='red';
      },
    },
  ]
}
```

æˆ‘ä»¬ç”šè‡³è¿˜å¯ä»¥ç”¨åœ¨[å±æ€§é€‰é¡¹](/guide/custom-extensions#å±æ€§)ä¸­ï¼Œè¿™æ ·è®¾ç½®å±æ€§çš„å€¼å°†æ›´åŠ çµæ´»ã€‚
```js
addAttributes() {
  return {
    color: {
      // ä»`data-color` å±æ€§è·å–é¢œè‰² æ¥è®¾ç½®å±æ€§color
      parseHTML: element => element.getAttribute('data-color'),
    }
  }
},
```

## å‘½ä»¤
å‘½ä»¤æ˜¯æ‰©å±•/æ ‡è®°/èŠ‚ç‚¹å†…éƒ¨æš´æ¼çš„æ–¹æ³•ã€‚   
å®šä¹‰å½¢å¼å¦‚ä¸‹
```js
import Paragraph from '@tiptap/extension-paragraph'

const CustomParagraph = Paragraph.extend({
  addCommands() {
    return {
      // è¦è®¿é—®å†…éƒ¨çš„å…¶ä»–å‘½ä»¤ï¼Œè¿™é‡Œç»“æ„å‡ºcommandså‚æ•°å°±å¯ä»¥ç”¨
      setP: () => ({ commands }) => {
        return commands.setNode('paragraph')
      },
    }
  },
})
```
ä½¿ç”¨å¦‚ä¸‹
```js
editor.commands.setP()
```

## çƒ­é”®
å¤§å¤šæ•°æ ¸å¿ƒextensionséƒ½é»˜è®¤å¸¦æœ‰åˆç†çš„é”®ç›˜å¿«æ·é”®ã€‚    
æ¯”æ–¹è¯´ï¼Œæ‚¨æƒ³æ›´æ”¹[æ— åºåˆ—è¡¨æ‰©å±•](/)çš„é”®ç›˜å¿«æ·é”®ï¼Œé‚£å¦‚ä¸‹å°±ä¼šæŠŠå°†æ™®é€šæ®µè½è½¬ä¸ºæ— é¡»åˆ—è¡¨çš„å¿«æ·é”®`Control+Shift+8`æ”¹ä¸ºäº†`Control+l`ã€‚
```js
// æ”¹å˜è®¾å®šä¸ºæ— åºåˆ—è¡¨ çš„é»˜è®¤å¿«æ·é”®
import BulletList from '@tiptap/extension-bullet-list'

const CustomBulletList = BulletList.extend({
  addKeyboardShortcuts() {
    return {
      'Mod-l': () => this.editor.commands.toggleBulletList(),
    }
  },
})
```


## è¾“å…¥è§„åˆ™
æ‚¨å¯ä»¥å®šä¹‰æ­£åˆ™è¡¨è¾¾å¼æ¥ä¾¦å¬ç”¨æˆ·è¾“å…¥ï¼Œç„¶ååšå‡ºä¿®æ”¹ã€‚å°±åƒæ‚¨å¸¸ç”¨çš„markdownç¼–è¾‘å™¨é‚£æ ·ã€‚

å¯¹èŠ‚ç‚¹ä½¿ç”¨nodeInputRuleï¼Œå¯¹äºæ ‡è®°ä½¿ç”¨markInputRuleï¼Œä¸¾ä¸ªä¾‹å­ï¼šå°†åˆ é™¤æ ‡è®°çš„è¾“å…¥æ¿€æ´»è§„åˆ™ä¿®æ”¹ä¸‹
<Fieldset title="ğŸŒ° ä¸¾ä¸ªä¾‹å­">
  <StrikeDemo />
</Fieldset>
<CollapseCodeblock language="jsx">{StrikeDemoJs}</CollapseCodeblock>



## ç²˜è´´è§„åˆ™
ç²˜è´´è§„åˆ™å°±åƒè¾“å…¥è§„åˆ™ï¼ˆè§ä¸Šæ–‡ï¼‰ä¸€æ ·å·¥ä½œã€‚ä½†å®ƒä»¬ä¸æ˜¯å¬ç”¨æˆ·è¾“å…¥çš„å†…å®¹ï¼Œè€Œæ˜¯ç›‘å¬ç”¨æˆ·çš„ç²˜è´´çš„å†…å®¹æ“ä½œã€‚
```js
import Strike from '@tiptap/extension-strike'
import { markPasteRule } from '@tiptap/core'

const CustomStrike = Strike.extend({
  addPasteRules() {
    return [
      markPasteRule({
        find: /(?:^|\s)((?:~)((?:[^~]+))(?:~))/g,
        type: this.type,
      }),
    ]
  },
})
```

## äº‹ä»¶
extensionså†…éƒ¨æä¾›äº†å„ç§é’©å­å‡½æ•°ã€‚
```js
import { Extension } from '@tiptap/core'

const CustomExtension = Extension.create({
  onCreate() {
    // ç¼–è¾‘å™¨å·²å‡†å¤‡å°±ç»ª.
  },
  onUpdate() {
    // å†…å®¹å‘ç”Ÿå˜åŒ–
  },
  onSelectionUpdate({ editor }) {
    // é€‰ä¸­çš„å†…å®¹å‘ç”Ÿæ”¹å˜
  },
  onTransaction({ transaction }) {
    // ç¼–è¾‘å™¨çŠ¶æ€æ”¹å˜
  },
  onFocus({ event }) {
    // ç¼–è¾‘å™¨è¢«èšç„¦
  },
  onBlur({ event }) {
    // ç¼–è¾‘å™¨å¤±ç„¦
  },
  onDestroy() {
    // ç¼–è¾‘å™¨é”€æ¯
  },
})
```

## extensionsä¸­çš„this
å°½ç®¡extensionsä¸æ˜¯ç±»ï¼Œä½†æ˜¯thisä¹Ÿä¼šè¢«ç»å¸¸ä½¿ç”¨ã€‚
```js
// extensionsï¼ˆèŠ‚ç‚¹ã€æ ‡è®°ã€æ‰©å±•ï¼‰çš„åå­—, æ¯”å¦‚ 'bulletListï¼ˆæ— åºåˆ—è¡¨ï¼‰'
this.name

// ç¼–è¾‘å™¨å½“å‰å®ä¾‹
this.editor

// ProseMirror ç±»å‹
this.type

// æ‰€æœ‰çš„è®¾ç½®å¯¹è±¡
this.options

// çˆ¶çº§ èŠ‚ç‚¹ã€æ ‡è®°ã€æ‰©å±•
this.parent
```

## ProseMirror æ’ä»¶ï¼ˆé«˜çº§ï¼‰
åœ¨ProseMirror æ‰©å±•çš„åŠŸèƒ½å«åš pluginsï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬Tiptapä¸­ å«å®ƒextensionsï¼Œå…¶ä½œç”¨æ˜¯ä¸€æ ·çš„ï¼Œä¸ç”¨å¤ªçº ç»“ã€‚

æ¯•ç«Ÿï¼ŒTiptap æ˜¯å»ºç«‹åœ¨ ProseMirror ä¹‹ä¸Šçš„ï¼Œè€Œ ProseMirror ä¹Ÿæœ‰ä¸€ä¸ªéå¸¸å¼ºå¤§çš„æ’ä»¶ APIã€‚è¦ç›´æ¥è®¿é—®å®ƒï¼Œè¯·ä½¿ç”¨addProseMirrorPlugins()ã€‚

### ç°æœ‰æ’ä»¶
æ‚¨å¯ä»¥å°†ç°æœ‰çš„ ProseMirror æ’ä»¶åŒ…è£…åœ¨ Tiptap çš„extensionsä¸­ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºã€‚
```js
import { history } from '@tiptap/pm/history'

const History = Extension.create({
  addProseMirrorPlugins() {
    return [
      history(),
      // â€¦
    ]
  },
})
```

### è®¿é—® ProseMirror API
æ‚¨å¯ä»¥é€šè¿‡[editor-props](https://tiptap.dev/api/editor#editor-props)å°†[äº‹ä»¶](https://prosemirror.net/docs/ref/#view.EditorProps)ä¼ é€’åˆ°ProseMirrorä¸­ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨Tiptap æ‰©å±•å®šä¹‰ProseMirror Plugin
```js
import { Extension } from '@tiptap/core'
import { Plugin, PluginKey } from '@tiptap/pm/state'

export const EventHandler = Extension.create({
  name: 'eventHandler',

  addProseMirrorPlugins() {
    return [
      new Plugin({  //è‡ªå®šä¹‰ä¸€ä¸ªProseMirror æ’ä»¶
        key: new PluginKey('eventHandler'),
        props: {
          handleClick(view, pos, event) { /* â€¦ */ },
          handleDoubleClick(view, pos, event) { /* â€¦ */ },
          handlePaste(view, event, slice) { /* â€¦ */ },
          // â€¦ è¿˜æœ‰æ›´å¤š
          // è¿™é‡Œæ˜¯æ‰€æœ‰çš„äº‹ä»¶åˆ—è¡¨: https://prosemirror.net/docs/ref/#view.EditorProps
        },
      }),
    ]
  },
})
```

## èŠ‚ç‚¹è§†å›¾ï¼ˆé«˜çº§ï¼‰
renderHTMLæ¸²æŸ“è¿˜æ˜¯è¿‡äºç®€å•äº†ï¼Œæ¯”å¦‚æ‚¨çš„èŠ‚ç‚¹å’Œå¤æ‚æ‚¨å¯ä»¥ä½¿ç”¨èŠ‚ç‚¹è§†å›¾`addNodeView`

æ¯”å¦‚ æ‚¨éœ€è¦åœ¨æ‚¨è‡ªå®šä¹‰çš„èŠ‚ç‚¹ä¸­æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œä»¥åŠå¤„ç†å„ç§ç¨‹åºã€‚
```js
import Image from '@tiptap/extension-image'

const CustomImage = Image.extend({
  addNodeView() {
    return () => {
      const container = document.createElement('div')

      container.addEventListener('click', event => {
        alert('clicked on the container')
      })

      const content = document.createElement('div')
      container.append(content)

      return {
        dom: container,
        contentDOM: content,
      }
    }
  },
})
```
è¿™é‡Œæœ‰ä¸ªæ›´å…·ä½“çš„ä¾‹å­,[TaskItem](https://tiptap.dev/api/nodes/task-item)   
å»ºè®®æ‚¨çœ‹æˆ‘ä»¬ä¸“é—¨å†™çš„[èŠ‚ç‚¹è§†å›¾æ•™ç¨‹æ–‡æ¡£](/guide/node-views/)

